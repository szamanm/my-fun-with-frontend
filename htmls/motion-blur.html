<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>motion blur</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        width: 1000vw;
        height: 1000vh;
      }

      #canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: darkslategray;
      }
    </style>

    <script>
      let xScroll = 0,
        yScroll = 0;
      let xMove = 0,
        yMove = 0;

      const items = [];

      const updateItems = () => {
        ctx.fillStyle = "rgba(0, 0, 0, .05)";
        ctx.fillRect(0, 0, 400, 400);
        draw((xScroll + xMove) * 2, (yScroll + yMove) * 2);
      };

      const scrollHandler = () => {
        const { scrollY, scrollX } = window;
        const { offsetWidth, offsetHeight } = document.body;
        xScroll = (scrollX / offsetWidth) * 100;
        yScroll = (scrollY / offsetHeight) * 100;
        updateItems();
      };

      const mousemoveHandler = ({ screenX, screenY }) => {
        const { innerWidth, innerHeight } = window;
        xMove = (screenX / innerWidth) * 100;
        yMove = (screenY / innerHeight) * 100;
        updateItems();
      };

      let ctx;

      const draw = (x, y) => {
        ctx.fillStyle = "pink";
        ctx.shadowColor = "hotpink";
        ctx.shadowBlur = 16;
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.lineTo(x + Math.sin(x / 10) * 25, y + 25);
        ctx.lineTo(x + 25, y - Math.sin(x / 10) * 25);
        ctx.fill();
      };

      const init = () => {
        const canvas = document.getElementById("canvas");
        canvas.height = 400;
        canvas.width = 400;
        ctx = canvas.getContext("2d");
        draw(0, 0);
      };

      window.addEventListener("scroll", scrollHandler, false);
      document.addEventListener("mousemove", mousemoveHandler, false);
      document.addEventListener("DOMContentLoaded", init);
    </script>
  </head>
  <body>
    <canvas id="canvas"></canvas>
  </body>
</html>
